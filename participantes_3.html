<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Participantes 3</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2em;
      background: #f4f4f4;
      text-align: center;
    }
    h1 {
      color: #003366;
      font-size: 2em;
    }
    .editable-card {
      background: #cceeff;
      border-radius: 10px;
      padding: 2em;
      min-height: 300px;
      width: 80%;
      margin: 1em auto;
      font-size: 1.4em;
      text-align: left;
      white-space: pre-wrap;
    }
    .button-group {
      margin-top: 10px;
    }
    .button-group button {
      padding: 0.4em 0.8em;
      margin: 0.3em;
      font-size: 0.8em;
      border: none;
      border-radius: 4px;
      background-color: #e0e0e0;
      color: #333;
      cursor: pointer;
    }
    .button-group button:hover {
      background-color: #cccccc;
    }
  </style>
</head>
<body>
  <h1>Participantes 3</h1>
  <div class="editable-card" contenteditable="true" id="card" oninput="guardar()">
    Escribe aquÃ­ la prueba relacionada...
  </div>
  <div class="button-group">
    <button onclick="descargar()">ðŸ’¾</button>
    <button onclick="exportar()">ðŸ“¤</button>
    <button onclick="regresar()">ðŸ”™</button>
  </div>

  <script>
    const clave = "participantes_3";
    const card = document.getElementById("card");

    const saved = localStorage.getItem(clave);
    if (saved) card.innerText = saved;

    function guardar() {
      localStorage.setItem(clave, card.innerText);
    }

    function descargar() {
      const contenido = card.innerText;
      const blob = new Blob([contenido], {type: "text/plain"});
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = clave + ".txt";
      a.click();
    }

    function exportar() {
      const data = {};
      for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        data[key] = localStorage.getItem(key);
      }
      const blob = new Blob([JSON.stringify(data, null, 2)], {type: "application/json"});
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "pruebas_exportadas.json";
      a.click();
    }

    function regresar() {
      window.location.href = "participantes.html";
    }
  </script>
</body>
</html>